b = c()
for (i in 1:300) {
ys = sample(y, 13, replace = T)
xs = sample(x, 13, replace = T)
reg1 = lm(ys~xs-1)
b[i] = reg1$coefficients
}
b_med[j] = mean(b)
}
b_med
b = c()
b_med = c()
for (j in 1:10){
b = c()
for (i in 1:300) {
ys = sample(y, 13, replace = T)
xs = sample(x, 13, replace = T)
reg1 = lm(ys~xs-1)
b[i] = reg1$coefficients
}
b_med[j] = mean(b)
}
hist(b_med)
mean(b_med)
hist(b_med, breaks = 20)
plot(data$x, length(data)*data$y, type = 'l')
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
reg = lm(y~x-1)
# plot
plot(data$x, length(data)*data$y, type = 'l')
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
plot(data$x, length(data)*data$y, type = 'l')
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
data = density(b)
reg = lm(y~x-1)
plot(data$x, length(data)*data$y, type = 'l')
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
data = density(b_med)
plot(data$x, length(data)*data$y, type = 'l')
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
reg$coefficients
b = c()
b_med = c()
for (j in 1:200){
b = c()
for (i in 1:300) {
ys = sample(y, 13, replace = T)
xs = sample(x, 13, replace = T)
reg1 = lm(ys~xs-1)
b[i] = reg1$coefficients
}
b_med[j] = mean(b)
}
mean(b_med)
hist(b_med, breaks = 20)
data = density(b_med)
reg = lm(y~x-1)
# plot
plot(data$x, length(data)*data$y, type = 'l')
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
b = c()
b_med = c()
for (j in 1:200){
b = c()
for (i in 1:5000) {
ys = sample(y, 13, replace = T)
xs = sample(x, 13, replace = T)
reg1 = lm(ys~xs-1)
b[i] = reg1$coefficients
}
b_med[j] = mean(b)
}
mean(b_med)
hist(b_med, breaks = 20)
data = density(b_med)
reg = lm(y~x-1)
# plot
plot(data$x, length(data)*data$y, type = 'l')
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
reg$coefficients
hist(b_med, breaks = 20)
x = c(1, 2, 4, 8, 5, 4, 6, 8, 3, 1, 5, 6, 3, 1.1, 7, 0.9, 1, 3, 4, 7, 8, -1)
y = c(0, 1, 3, 1, 3, 4, 6.6, 8, 1, 4.1, 6, 7, 4, 3.6, 5, 3, 1, 2, 2.2, 1, 5.7, -9)
b = c()
b_med = c()
for (j in 1:200){
b = c()
for (i in 1:5000) {
ys = sample(y, 13, replace = T)
xs = sample(x, 13, replace = T)
reg1 = lm(ys~xs-1)
b[i] = reg1$coefficients
}
b_med[j] = mean(b)
}
mean(b_med)
hist(b_med, breaks = 20)
data = density(b_med)
reg = lm(y~x-1)
plot(data$x, length(data)*data$y, type = 'l')
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
reg$coefficients
reg = lm(y~x-1)
plot(data$x, length(data)*data$y, type = 'l')
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
reg$coefficients
13/length(x)
b = c()
b_med = c()
for (j in 1:200){
b = c()
for (i in 1:5000) {
ys = sample(y, 16, replace = T)
xs = sample(x, 16, replace = T)
reg1 = lm(ys~xs-1)
b[i] = reg1$coefficients
}
b_med[j] = mean(b)
}
mean(b_med)
hist(b_med, breaks = 20)
data = density(b_med)
reg = lm(y~x-1)
# plot
plot(data$x, length(data)*data$y, type = 'l')
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
reg$coefficients
b = c()
b_med = c()
for (j in 1:200){
b = c()
for (i in 1:5000) {
ys = sample(y, 16)
xs = sample(x, 16)
reg1 = lm(ys~xs-1)
b[i] = reg1$coefficients
}
b_med[j] = mean(b)
}
mean(b_med)
hist(b_med, breaks = 20)
data = density(b_med)
reg = lm(y~x-1)
# plot
plot(data$x, length(data)*data$y, type = 'l')
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
reg$coefficients
sample(x, 16)
sample(x, 16)
sample(x, 16)
sample(x, 16)
sample(x, 16)
sample(x, 16)
sample(x, 16)
sample(x, 16)
sample(x, 16)
sample(x, 16)
sample(x, 16, prob = 1/length(x))
1/length(x)
sample(x, 16, prob = rep(1/length(x), length(x)) )
sample(x, 16, prob = rep(1/length(x), length(x)) )
sample(x, 16, prob = rep(1/length(x), length(x)) )
b = c()
b_med = c()
for (j in 1:200){
b = c()
for (i in 1:5000) {
ys = sample(y, 16, prob = rep(1/length(y), length(y)) )
xs = sample(x, 16, prob = rep(1/length(x), length(x)) )
reg1 = lm(ys~xs-1)
b[i] = reg1$coefficients
}
b_med[j] = mean(b)
}
mean(b_med)
hist(b_med, breaks = 20)
data = density(b_med)
reg = lm(y~x-1)
# plot
plot(data$x, length(data)*data$y, type = 'l')
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
reg = lm(y~x-1)
summary(reg)
summary(reg1)
130.6/130
130.6/130-1
(130.6/130-1)*100
pi=2
pi
rm(pi)
pi
source('~/.active-rstudio-document', encoding = 'UTF-8')
source('C:/Users/user/Downloads/beta.R')
x = c(1, 2, 4, 8, 5, 4, 6, 8, 3, 1, 5, 6, 3, 1.1, 7, 0.9, 1, 3, 4, 7, 8, -1)
y = c(0, 1, 3, 1, 3, 4, 6.6, 8, 1, 4.1, 6, 7, 4, 3.6, 5, 3, 1, 2, 2.2, 1, 5.7, -9)
13/length(x)
b = c()
b_med = c()
for (j in 1:200){
b = c()
for (i in 1:5000) {
ys = sample(y, 13, prob = rep(1/length(y), length(y)) )
xs = sample(x, 13, prob = rep(1/length(x), length(x)) )
reg1 = lm(ys~xs-1)
b[i] = reg1$coefficients
}
b_med[j] = mean(b)
}
source('C:/Users/user/Downloads/beta.R')
b = c()
b_med = c()
for (j in 1:200){
b = c()
for (i in 1:500) {
ys = sample(y, 13, prob = rep(1/length(y), length(y)) )
xs = sample(x, 13, prob = rep(1/length(x), length(x)) )
reg1 = lm(ys~xs-1)
b[i] = reg1$coefficients
}
b_med[j] = mean(b)
}
mean(b_med)
hist(b_med, breaks = 20)
data = density(b_med)
mean(b_med)
hist(b_med, breaks = 20)
reg = lm(y~x-1)
summary(reg)
summary(reg1)
# plot
plot(data$x, length(data)*data$y, type = 'l')
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
x = c(1, 2, 4, 8, 5, 4, 6, 8, 3, 1, 5, 6, 3, 1.1, 7, 0.9, 1, 3, 4, 7, 8, -1)
y = 0.8*x
13/length(x)
b = c()
b_med = c()
for (j in 1:200){
b = c()
for (i in 1:500) {
ys = sample(y, 13, prob = rep(1/length(y), length(y)) )
xs = sample(x, 13, prob = rep(1/length(x), length(x)) )
reg1 = lm(ys~xs-1)
b[i] = reg1$coefficients
}
b_med[j] = mean(b)
}
mean(b_med)
hist(b_med, breaks = 20)
data = density(b_med)
reg = lm(y~x-1)
summary(reg)
summary(reg1)
# plot
plot(data$x, length(data)*data$y, type = 'l')
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
reg$coefficients - mean(b)
reg$coefficients
mean(b)
plot(data$x, length(data)*data$y, type = 'l', xlim=c(0, 1))
plot(data$x, length(data)*data$y, type = 'l', xlim=c(0.5, 8))
plot(data$x, length(data)*data$y, type = 'l', xlim=c(0.5, 1))
plot(data$x, length(data)*data$y, type = 'l', xlim=c(0.5, 0.8))
plot(data$x, length(data)*data$y, type = 'l', xlim=c(0.5, 0.8))
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
x = runif(1e3)
y = 0.8*x
b = c()
b_med = c()
for (j in 1:200){
b = c()
for (i in 1:500) {
ys = sample(y, 600, prob = rep(1/length(y), length(y)) )
xs = sample(x, 600, prob = rep(1/length(x), length(x)) )
reg1 = lm(ys~xs-1)
b[i] = reg1$coefficients
}
b_med[j] = mean(b)
}
mean(b_med)
hist(b_med, breaks = 20)
data = density(b_med)
reg = lm(y~x-1)
summary(reg)
summary(reg1)
# plot
plot(data$x, length(data)*data$y, type = 'l', xlim=c(0.5, 0.8))
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
reg$coefficients - mean(b)
mean(b)
set.seed(2)
x = runif(1e3, 0, 10)
y = runif(1e3, 0, 5)
b = c()
b_med = c()
for (j in 1:200){
b = c()
for (i in 1:500) {
ys = sample(y, 600)
xs = sample(x, 600)
reg1 = lm(ys~xs-1)
b[i] = reg1$coefficients
}
b_med[j] = mean(b)
}
mean(b_med)
hist(b_med, breaks = 20)
data = density(b_med)
reg = lm(y~x-1)
summary(reg)
summary(reg1)
# plot
plot(data$x, length(data)*data$y, type = 'l', xlim=c(0.5, 0.8))
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
plot(data$x, length(data)*data$y, type = 'l')
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
reg$coefficients - mean(b)
reg$coefficients - mean(b)
mean(b)
reg$coefficients
plot(data$x, length(data)*data$y, type = 'l', xlim = c(0.36,03740 ))
plot(data$x, length(data)*data$y, type = 'l', xlim = c(0.36,0.3740))
plot(data$x, length(data)*data$y, type = 'l', xlim = c(0.368,0.3740))
plot(data$x, length(data)*data$y, type = 'l', xlim = c(0.368,0.3740))
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
hist(b_med, breaks = 20)
b = c()
b_med = c()
for (j in 1:500){
b = c()
for (i in 1:500) {
ys = sample(y, 600)
xs = sample(x, 600)
reg1 = lm(ys~xs-1)
b[i] = reg1$coefficients
}
b_med[j] = mean(b)
}
mean(b_med)
hist(b_med, breaks = 20)
data = density(b_med)
reg = lm(y~x-1)
summary(reg)
summary(reg1)
# plot
plot(data$x, length(data)*data$y, type = 'l', xlim = c(0.368,0.3740))
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
n = length(x)
reg$coefficients[1]
beta2 = 4
beta_reg = c()
for (j in 1:500){
erro =  rnorm(n, 0, 1)
y = beta2*x + erro
reg = lm(y ~ x)
beta_reg[j] = reg$coefficients[1]
}
hist(beta_reg)
mean(beta_reg)
x = seq(-1, 1, length = sample_size)
x = seq(-1, 1, length = 1000)
n = length(x)
beta2 = 6
beta_reg = c()
for (j in 1:500){
erro =  rnorm(n, 0, 1)
y = beta2*x + erro
reg = lm(y ~ x)
beta_reg[j] = reg$coefficients[1]
}
mean(beta_reg)
beta2 = 6
beta_reg = c()
for (j in 1:500){
erro =  rnorm(n, 0, 1)
y = beta2*x + erro
reg = lm(y ~ x - 1)
beta_reg[j] = reg$coefficients[1]
}
mean(beta_reg)
hist(beta_reg)
data = density(b_reg)
data = density(beta_reg)
reg = lm(y~x-1)
plot(data$x, length(data)*data$y, type = 'l', xlim = c(min(beta_reg), max(beta_reg)))
plot(data$x, length(data)*data$y, type = 'l', xlim = c(min(beta_reg), max(beta_reg)))
points(mean(b_med), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
reg = lm(y~x-1)
plot(data$x, length(data)*data$y, type = 'l', xlim = c(min(beta_reg), max(beta_reg)))
points(mean(beta_reg), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
mean(b)
reg$coefficients - mean(beta_reg)
for (j in 1:50000){
erro =  rnorm(n, 0, 1)
y = beta2*x + erro
reg = lm(y ~ x - 1)
beta_reg[j] = reg$coefficients[1]
}
mean(beta_reg)
hist(beta_reg)
data = density(beta_reg)
reg = lm(y~x-1)
# plot
plot(data$x, length(data)*data$y, type = 'l', xlim = c(min(beta_reg), max(beta_reg)))
points(mean(beta_reg), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
reg$coefficients - mean(beta_reg)
set.seed(2)
x = seq(-1, 1, length = 1000)
n = length(x)
beta2 = 6
beta_reg = c()
for (j in 1:100000){
erro =  rnorm(n, 0, 1)
y = beta2*x + erro
reg = lm(y ~ x - 1)
beta_reg[j] = reg$coefficients[1]
}
mean(beta_reg)
hist(beta_reg)
data = density(beta_reg)
reg = lm(y~x-1)
# plot
plot(data$x, length(data)*data$y, type = 'l', xlim = c(min(beta_reg), max(beta_reg)))
points(mean(beta_reg), 0, pch=19, col='red', cex=2)
points(reg$coefficients, 0, pch=19, col='blue', cex=2)
legend("topright", legend=c("beta médio","beta MQO"), col=c("red","blue"), lty=1,lwd=2)
assets = c('^BVSP', 'BBAS3.SA')
library(quantmod)
#----------- My function to get data
get_data = function(x, d= "2000-01-01"){
z = getSymbols(x, src='yahoo',
from= d,
periodicity = "monthly",
auto.assign = F)[,4]
return(z)
}
df = lapply(assets, get_data)
head(df)
head(df, 6)
View(df)
df
head(df, 6)
head(df, 2)
df = data.frame( lapply(assets, get_data))
head(df)
colnames(df) = c('IBOV', 'BBAS3')
diff(df$IBOV)
ret = log( diff(df$IBOV) )
ret =  diff(log (df$IBOV) )
plot(ret)
plot(ret, type='l')
get_data = function(x, d= "2000-01-01"){
z = getSymbols(x, src='yahoo',
from= d,
#periodicity = "monthly",
auto.assign = F)[,4]
return(z)
}
assets = c('^BVSP', 'BBAS3.SA')
df = data.frame( lapply(assets, get_data))
colnames(df) = c('IBOV', 'BBAS3')
ret =  diff(log (df$IBOV) )
plot(ret, type='l')
library(propagate)
fitDistr(ret)
setwd('D:/Git projects/Econometry')   # definir o diretório
